import{j as o,r as i,X as E,T as P,C as B,D as M,S as O}from"./index-C0W8CECI.js";const G="_requestToolContainer_1sxww_1",H="_requestToolOverlay_1sxww_10",A="_requestTool_1sxww_1",k="_form_1sxww_31",F="_btnCross_1sxww_42",g={requestToolContainer:G,requestToolOverlay:H,requestTool:A,form:k,btnCross:F},K="_fileUploadHolder_15a4g_1",L="_fileUploadInput_15a4g_5",V="_iconPreview_15a4g_10",x={fileUploadHolder:K,fileUploadInput:L,iconPreview:V};function $({icon:c,onChange:f}){return o.jsxs("div",{children:[o.jsx("label",{htmlFor:"icon",className:"custom-file-label",children:"Upload icon (PNG or SVG)"}),o.jsxs("div",{className:x.fileUploadHolder,children:[o.jsx("input",{type:"file",id:"icon",name:"icon",accept:"image/png, image/svg+xml",className:x.fileUploadInput,onChange:f}),c&&o.jsx("div",{className:x.iconPreview,children:o.jsx("img",{src:c,alt:"Preview",style:{width:"48px",height:"48px"}})})]})]})}function z(){return o.jsx("div",{className:"success-message",children:"âœ… Tool request sent successfully!"})}function W({onClose:c,isMobileMenuOpen:f}){const v={name:"",categories:[],description:"",icon:""},[T,u]=i.useState(""),[a,r]=i.useState(v),[_,w]=i.useState(!1),[j,y]=i.useState(!1),[l,d]=i.useState({name:!1,categories:!1,description:!1}),[p,m]=i.useState({name:!1,categories:!1,description:!1});i.useEffect(()=>(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.touchAction="none",()=>{f||(document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.touchAction="")}),[f]);const q=t=>{const e=t.target.value;r(n=>({...n,name:e})),l.name&&m(n=>({...n,name:e.trim()===""}))},C=t=>{if(t.key==="Enter"){t.preventDefault();const e=T.split(";").map(s=>s.trim()).filter(s=>s&&s.length<=20),n=[...a.categories,...e].slice(0,5);r(s=>({...s,categories:n})),u(""),l.categories&&m(s=>({...s,categories:n.length===0}))}},S=t=>{const e=t.target.value;if(e.includes(";")){const n=e.split(";").map(s=>s.trim()).filter(s=>s&&s.length<=20);if(n.length>0){const s=5-a.categories.length,h=n.slice(0,s),U=[...a.categories,...h].slice(0,5);r(D=>({...D,categories:U})),u("")}else u(e)}else u(e)},b=t=>{r(e=>({...e,categories:e.categories.filter((n,s)=>s!==t)}))},N=t=>{const e=t.target.value;e.length<=420&&(r(n=>({...n,description:e})),l.description&&m(n=>({...n,description:e.trim()===""})))},I=t=>{const e=t.target.files[0];if(!e)return;if(!["image/png","image/svg+xml"].includes(e.type)){alert("Only PNG and SVG files are allowed.");return}const s=new FileReader;s.onloadend=()=>{r(h=>({...h,icon:s.result}))},s.readAsDataURL(e)},R=t=>{t.preventDefault();const e={name:a.name.trim()==="",categories:a.categories.length===0,description:a.description.trim()===""};m(e),d({name:!0,categories:!0,description:!0}),!Object.values(e).some(Boolean)&&(w(!0),y(!1),setTimeout(()=>{w(!1),y(!0),r(v),u(""),d({name:!1,categories:!1,description:!1}),m({name:!1,categories:!1,description:!1})},1500))};return o.jsx("div",{className:g.requestToolContainer,children:o.jsx("div",{className:g.requestToolOverlay,children:o.jsxs("div",{className:g.requestTool,children:[o.jsx("button",{className:`btn ${g.btnCross}`,onClick:c,children:o.jsx(E,{size:20})}),o.jsx("h2",{children:"Request tool"}),o.jsxs("form",{onSubmit:R,className:g.form,children:[o.jsx(P,{value:a.name,onChange:q,error:p.name,touched:l.name,onBlur:()=>d(t=>({...t,name:!0}))}),o.jsx(B,{tagsInput:T,onChange:S,onKeyDown:C,categories:a.categories,onRemove:b,error:p.categories,touched:l.categories,onBlur:()=>d(t=>({...t,categories:!0}))}),o.jsx(M,{value:a.description,onChange:N,maxLength:420,error:p.description,touched:l.description,onBlur:()=>d(t=>({...t,description:!0}))}),o.jsx($,{icon:a.icon,onChange:I}),o.jsx(O,{onCancel:c,isSending:_})]}),j&&o.jsx(z,{})]})})})}export{W as default};
//# sourceMappingURL=RequestTool-CnKnpCPb.js.map
